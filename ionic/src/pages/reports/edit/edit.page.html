<ion-header>
	<ion-toolbar>
        <ion-buttons slot="start">
            <ion-button (click)="goBack()" class="as-header-icon">
                <ion-img src="assets/images/back.png"></ion-img>
            </ion-button>
        </ion-buttons>
		<ion-title class="padding-left-right-button">
			{{title}}
		</ion-title>
        <ion-buttons slot="end">
            <ion-button (click)="save()" class="as-header-icon">
                <ion-img src="assets/images/save.png"></ion-img>
            </ion-button>
        </ion-buttons>
	</ion-toolbar>
</ion-header>
<ion-content class="content-padding-with-bg">
    <form [formGroup]="reportForm">
        <ion-list>
            <ion-item>
                <ion-label position="stacked">Название отчета<span class="required">*</span></ion-label>
                <ion-input formControlName="reportName"></ion-input>
            </ion-item>
            <control-messages [control]="reportForm.controls.reportName"></control-messages>
            <ion-item>
                <ion-label position="stacked">Адрес экспертизы</ion-label>
                <ion-input formControlName="address"></ion-input>
            </ion-item>
            <control-messages [control]="reportForm.controls.address"></control-messages>
            
            <ion-item>
                <ion-label position="stacked">Дата экспертизы<span class="required">*</span></ion-label>
                <ion-button fill="clear" expand="full" id="open-date-select" class="as-value">
                    <span>
                        {{formatDate(reportForm.controls.examinationDate.value)}}                        
                    </span>
                </ion-button>
                <ion-popover trigger="open-date-select" size="fixed" class="popover-date-time">
                    <ng-template>
                        <ion-datetime presentation="date" cancelText="Отмена" doneText="Выбрать" formControlName="examinationDate" displayFormat="DD.MM.YYYY" pickerFormat="DD.MM.YYYY" min="{{minDate}}" max="{{maxDate}}"></ion-datetime>
                    </ng-template>
                </ion-popover>
            </ion-item>
            <ion-item>
                <ion-label position="stacked">Время проведения экспертизы<span class="required">*</span></ion-label>
                <ion-button fill="clear" expand="full" id="open-time-select" class="as-value">
                    <span>
                        {{reportForm.controls.examinationTime.value}}
                    </span>
                </ion-button>
                <ion-popover trigger="open-time-select" size="fixed" class="popover-date-time">
                    <ng-template>
                        <ion-datetime presentation="time" cancelText="Отмена" doneText="Выбрать" formControlName="examinationTime" displayFormat="HH:mm" pickerFormat="HH:mm"></ion-datetime>
                    </ng-template>
                </ion-popover>
            </ion-item>
            <ion-item>
                <ion-label position="stacked">Имя, отчество, фамилия эксперта</ion-label>
                <ion-input formControlName="fio"></ion-input>
            </ion-item>
            <control-messages [control]="reportForm.controls.fio"></control-messages>
        </ion-list>
    </form>
</ion-content>
<ion-footer>
    <ion-toolbar>
        <ion-button expand="full" (click)="save()">
            Сохранить
        </ion-button>
    </ion-toolbar>
</ion-footer>